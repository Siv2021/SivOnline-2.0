{"ast":null,"code":"import _slicedToArray from \"/home/tiago/Documentos/SivOnline-github/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/tiago/Documentos/SivOnline-github/frontend/src/components/actions/index.tsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport Styles from './styles';\nimport io from 'socket.io-client';\nvar socket = io('http://localhost:3001');\nvar user = localStorage.getItem('representation') || '';\n\nvar Actions = function Actions(_ref) {\n  var moderator = _ref.moderator;\n\n  var _useState = useState({\n    type: 'ação',\n    action: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedAction = _useState2[0],\n      setSelectedAction = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      actions = _useState4[0],\n      setActions = _useState4[1];\n\n  var _useState5 = useState({\n    text: ''\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      formData = _useState6[0],\n      setFormData = _useState6[1];\n\n  var moções = [{\n    value: 'tempo>',\n    text: 'aumento do tempo de discurso'\n  }, {\n    value: 'tempo<',\n    text: 'diminuição do tempo de discurso'\n  }, {\n    value: '>lista',\n    text: 'abertura da lista de discursos'\n  }, {\n    value: '<lista',\n    text: 'fechamento da lista de discursos'\n  }, {\n    value: '>seção',\n    text: 'abrir seção'\n  }, {\n    value: '<seção',\n    text: 'fechar seção'\n  }];\n  var questões = [{\n    value: 'ordem',\n    text: 'ordem'\n  }, {\n    value: 'pp',\n    text: 'privilégio pessoal'\n  }, {\n    value: 'dúvida',\n    text: 'dúvida'\n  }];\n  var placeholder = \"descreva sua \".concat(selectedAction.type, \" para analisarmos a relev\\xE2ncia\");\n  useEffect(function () {\n    socket.on('setActions', function (actions) {\n      setActions(actions);\n    });\n  }, []);\n\n  function handleSubmit(event) {\n    event.preventDefault;\n    var text = formData.text;\n    var action = selectedAction.action;\n    socket.emit('newAction', {\n      title: action,\n      type: selectedAction.type,\n      description: text,\n      representation: user\n    });\n    alert(\"\".concat(selectedAction.type, \" enviada com sucesso!\"));\n  }\n\n  function handleInputChange(event) {\n    var value = event.target.value;\n    setFormData({\n      text: value\n    });\n  }\n\n  function handleSelectAction(event) {\n    var action = event.target.value;\n    var type = event.target.className;\n    setSelectedAction({\n      type: type,\n      action: action\n    });\n  }\n\n  function removeAction(action) {\n    socket.emit('removeAction', action);\n  }\n\n  if (moderator) {\n    return /*#__PURE__*/React.createElement(Styles, {\n      className: \"components\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, actions ? actions.map(function (action) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n        key: action.description,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }\n      }, action.type, \": \", /*#__PURE__*/React.createElement(\"strong\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 59\n        }\n      }, action.title), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 91\n        }\n      }), \" \", action.description, \" \", \"[\".concat(action.representation, \"]\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return removeAction(action);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }\n      }, \"remove\")));\n    }) : null)));\n  }\n\n  return /*#__PURE__*/React.createElement(Styles, {\n    className: \"components\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"mo\\xE7\\xE3o\",\n    value: selectedAction.type === 'moção' ? selectedAction.action : '',\n    onChange: handleSelectAction,\n    id: \"mo\\xE7\\xE3o\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, \"Escolha um tipo de mo\\xE7\\xE3o\"), moções.map(function (moc) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: moc.value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, moc.text);\n  })), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"quest\\xE3o\",\n    value: selectedAction.type === 'questão' ? selectedAction.action : '',\n    onChange: handleSelectAction,\n    id: \"quest\\xE3o\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, \"Escolha um tipo de quest\\xE3o\"), questões.map(function (quest) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: quest.value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, quest.text);\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleInputChange,\n    placeholder: placeholder,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, \"Enviar\")));\n};\n\nexport default Actions;","map":{"version":3,"sources":["/home/tiago/Documentos/SivOnline-github/frontend/src/components/actions/index.tsx"],"names":["React","useState","useEffect","Styles","io","socket","user","localStorage","getItem","Actions","moderator","type","action","selectedAction","setSelectedAction","actions","setActions","text","formData","setFormData","moções","value","questões","placeholder","on","handleSubmit","event","preventDefault","emit","title","description","representation","alert","handleInputChange","target","handleSelectAction","className","removeAction","map","moc","quest"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, FormEvent, ChangeEvent} from 'react';\r\nimport Styles from './styles'\r\nimport io from 'socket.io-client'\r\nconst socket = io('http://localhost:3001')\r\n\r\ninterface Props{\r\n  moderator?: boolean\r\n}\r\ninterface action{\r\n  title: string,\r\n  description: string,\r\n  type: string,\r\n  representation: string\r\n}\r\nconst user : string = localStorage.getItem('representation') || ''\r\n\r\nconst Actions: React.FC<Props> = ({moderator}) => {\r\n  const [selectedAction, setSelectedAction] = useState({type:'ação', action: ''})\r\n  const [actions, setActions] = useState<action[]>([])\r\n  const [formData, setFormData] = useState({\r\n    text: ''\r\n  })\r\n  const moções = [\r\n    {value:'tempo>', text:'aumento do tempo de discurso'},\r\n    {value:'tempo<', text:'diminuição do tempo de discurso'},\r\n    {value:'>lista', text:'abertura da lista de discursos'},\r\n    {value:'<lista', text:'fechamento da lista de discursos'},\r\n    {value:'>seção', text:'abrir seção'},\r\n    {value:'<seção', text:'fechar seção'}\r\n  ]\r\n  const questões = [\r\n    {value: 'ordem', text:'ordem'}, \r\n    {value:'pp', text:'privilégio pessoal'}, \r\n    {value:'dúvida', text:'dúvida'}\r\n  ]\r\n  const placeholder = `descreva sua ${selectedAction.type} para analisarmos a relevância`\r\n  useEffect(()=>{\r\n    socket.on('setActions', (actions : action[]) =>{\r\n      setActions(actions)\r\n    })\r\n  },[])\r\n\r\n  function handleSubmit(event: FormEvent){\r\nevent.preventDefault\r\n    const {text} = formData\r\n    const action = selectedAction.action\r\n    socket.emit('newAction', {\r\n      title: action,\r\n      type: selectedAction.type,\r\n      description: text,\r\n      representation: user\r\n    })\r\n    alert(`${selectedAction.type} enviada com sucesso!`)\r\n  }\r\n  function handleInputChange(event: ChangeEvent<HTMLInputElement>){\r\n    const {value} = event.target\r\n    setFormData({text: value})\r\n  }\r\n  function handleSelectAction(event: ChangeEvent<HTMLSelectElement>){\r\n    const action = event.target.value\r\n    const type = event.target.className\r\n    setSelectedAction({type, action})\r\n  }\r\n  function removeAction(action : action){\r\n    socket.emit('removeAction', action)\r\n  }\r\n\r\n  if (moderator){\r\n    return (\r\n      <Styles className=\"components\">\r\n        <div>\r\n          <ul>\r\n            {actions ? actions.map(action=>(\r\n              <>\r\n              <li key={action.description}>{action.type}: <strong>{action.title}</strong> <br/> {action.description} {`[${action.representation}]`} \r\n              <button onClick={()=>removeAction(action)}>remove</button>\r\n              </li>\r\n              </>\r\n            )): null}\r\n           \r\n          </ul>\r\n        </div>\r\n      </Styles>\r\n      )\r\n  }\r\n  return (\r\n  <Styles className=\"components\">\r\n  <form onSubmit={handleSubmit}>\r\n    <select className=\"moção\" value={selectedAction.type==='moção'?selectedAction.action:''} onChange={handleSelectAction} id=\"moção\">\r\n    <option  value=''>Escolha um tipo de moção</option>\r\n\r\n    {moções.map(moc=>(\r\n      <option value={moc.value}>{moc.text}</option>\r\n    ))}\r\n    </select>\r\n    <select className=\"questão\" value={selectedAction.type==='questão'?selectedAction.action:''} onChange={handleSelectAction} id=\"questão\">\r\n    <option value=''>Escolha um tipo de questão</option>\r\n\r\n    {questões.map(quest=>(\r\n      <option value={quest.value}>{quest.text}</option>\r\n    ))}\r\n    </select>\r\n    <input type=\"text\" onChange={handleInputChange} placeholder={placeholder}/>\r\n    <button type=\"submit\">Enviar</button>\r\n  </form>\r\n  </Styles>\r\n  )\r\n}\r\n\r\nexport default Actions;"]},"metadata":{},"sourceType":"module"}