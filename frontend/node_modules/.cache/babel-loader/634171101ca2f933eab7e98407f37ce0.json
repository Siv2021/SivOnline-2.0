{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/tiago/Documentos/SivOnline-github/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _slicedToArray from \"/home/tiago/Documentos/SivOnline-github/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/tiago/Documentos/SivOnline-github/frontend/src/components/docs/index.tsx\";\n\nimport React, { useState } from 'react';\nimport Styles from './styles';\nimport { AiFillFileText } from \"react-icons/ai\";\nimport io from 'socket.io-client';\nvar socket = io('http://localhost:3001');\n\nvar Docs = function Docs(_ref) {\n  var moderator = _ref.moderator;\n  var user = localStorage.getItem('representation') || \"Brasil\";\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      privateDocs = _useState2[0],\n      setPrivateDocs = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      publicDocs = _useState4[0],\n      setPublicDocs = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      privateLink = _useState6[0],\n      setPrivateLink = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      publicLink = _useState8[0],\n      setPublicLink = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      privateName = _useState10[0],\n      setPrivateName = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      publicName = _useState12[0],\n      setPublicName = _useState12[1];\n\n  socket.on(\"setPublicDocs\", function (docs) {\n    console.log(docs);\n    setPublicDocs(docs);\n  });\n  socket.on(\"setPrivateDocs\", function (docs) {\n    var userDocs = filterDocs(docs);\n    setPrivateDocs(userDocs);\n  });\n\n  function filterDocs(docs) {\n    var userDocs = [];\n\n    var _iterator = _createForOfIteratorHelper(docs),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var i = _step.value;\n\n        if (i.user === user) {\n          userDocs.push(i);\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return userDocs;\n  }\n\n  function handlePrivateName(event) {\n    var value = event.target.value;\n    setPrivateName(value);\n  }\n\n  function handlePrivateLink(event) {\n    var value = event.target.value;\n    setPrivateLink(value);\n  }\n\n  function handlePublicName(event) {\n    var value = event.target.value;\n    setPublicName(value);\n  }\n\n  function handlePublicLink(event) {\n    var value = event.target.value;\n    setPublicLink(value);\n  }\n\n  function handlePrivateDoc(event) {\n    event.preventDefault();\n    socket.emit('newPrivateDoc', {\n      name: privateName,\n      link: privateLink,\n      user: user\n    });\n    alert(\"Documento enviado com sucesso\");\n  }\n\n  function handlePublicDoc(event) {\n    event.preventDefault();\n    socket.emit('newPublicDoc', {\n      name: publicName,\n      link: publicLink\n    });\n    alert(\"Documento enviado com sucesso\");\n  }\n\n  if (moderator) {\n    return /*#__PURE__*/React.createElement(Styles, {\n      className: \"components\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"privateDocs\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, \"Documentos privados\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 6\n      }\n    }, privateDocs.map(function (doc) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"doc\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }\n      }, doc.name, /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        href: doc.link,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(AiFillFileText, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 74\n        }\n      }))));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"publicDocs\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, \"Documentos p\\xFAblicos\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, publicDocs.map(function (doc) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"doc\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }\n      }, doc.name, /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        href: doc.link,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(AiFillFileText, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 76\n        }\n      }))));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"createDoc\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handlePublicDoc,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: handlePublicName,\n      type: \"text\",\n      placeholder: \"Nome do documento\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: handlePublicLink,\n      type: \"text\",\n      placeholder: \"Link para o documento\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, \"Enviar\"))));\n  }\n\n  return /*#__PURE__*/React.createElement(Styles, {\n    className: \"components\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titlePrivateDocs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, \"Documentos privados\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"privates\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, privateDocs.map(function (doc) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"doc\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, doc.name, /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      href: doc.link,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(AiFillFileText, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 80\n      }\n    }))));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titlePublicDocs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, \"Documentos p\\xFAblicos\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"public\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, publicDocs.map(function (doc) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"doc\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, doc.name, /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      href: doc.link,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(AiFillFileText, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 80\n      }\n    }))));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"createDoc\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handlePrivateDoc,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handlePrivateName,\n    type: \"text\",\n    placeholder: \"Nome do documento\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handlePrivateLink,\n    type: \"text\",\n    placeholder: \"Link para o documento\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, \"Enviar\"))));\n};\n\nexport default Docs;","map":{"version":3,"sources":["/home/tiago/Documentos/SivOnline-github/frontend/src/components/docs/index.tsx"],"names":["React","useState","Styles","AiFillFileText","io","socket","Docs","moderator","user","localStorage","getItem","privateDocs","setPrivateDocs","publicDocs","setPublicDocs","privateLink","setPrivateLink","publicLink","setPublicLink","privateName","setPrivateName","publicName","setPublicName","on","docs","console","log","userDocs","filterDocs","i","push","handlePrivateName","event","value","target","handlePrivateLink","handlePublicName","handlePublicLink","handlePrivateDoc","preventDefault","emit","name","link","alert","handlePublicDoc","map","doc"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAAiE,OAAjE;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAAQC,cAAR,QAA6B,gBAA7B;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,IAAMC,MAAM,GAAGD,EAAE,CAAC,uBAAD,CAAjB;;AAWA,IAAME,IAAqB,GAAG,SAAxBA,IAAwB,OAAiB;AAAA,MAAfC,SAAe,QAAfA,SAAe;AAC7C,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,gBAArB,KAA0C,QAAvD;;AAD6C,kBAGPT,QAAQ,CAAQ,EAAR,CAHD;AAAA;AAAA,MAGtCU,WAHsC;AAAA,MAGzBC,cAHyB;;AAAA,mBAITX,QAAQ,CAAQ,EAAR,CAJC;AAAA;AAAA,MAItCY,UAJsC;AAAA,MAI1BC,aAJ0B;;AAAA,mBAKPb,QAAQ,EALD;AAAA;AAAA,MAKtCc,WALsC;AAAA,MAKzBC,cALyB;;AAAA,mBAMTf,QAAQ,EANC;AAAA;AAAA,MAMtCgB,UANsC;AAAA,MAM1BC,aAN0B;;AAAA,mBAOPjB,QAAQ,EAPD;AAAA;AAAA,MAOtCkB,WAPsC;AAAA,MAOzBC,cAPyB;;AAAA,oBAQTnB,QAAQ,EARC;AAAA;AAAA,MAQtCoB,UARsC;AAAA,MAQ1BC,aAR0B;;AAS7CjB,EAAAA,MAAM,CAACkB,EAAP,CAAU,eAAV,EAA2B,UAACC,IAAD,EAAgB;AACzCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAV,IAAAA,aAAa,CAACU,IAAD,CAAb;AACD,GAHD;AAKAnB,EAAAA,MAAM,CAACkB,EAAP,CAAU,gBAAV,EAA4B,UAACC,IAAD,EAAgB;AAC1C,QAAMG,QAAQ,GAAGC,UAAU,CAACJ,IAAD,CAA3B;AACAZ,IAAAA,cAAc,CAACe,QAAD,CAAd;AACD,GAHD;;AAIA,WAASC,UAAT,CAAoBJ,IAApB,EAAiC;AAC/B,QAAIG,QAAQ,GAAG,EAAf;;AAD+B,+CAElBH,IAFkB;AAAA;;AAAA;AAE/B,0DAAkB;AAAA,YAAVK,CAAU;;AAChB,YAAGA,CAAC,CAACrB,IAAF,KAASA,IAAZ,EAAiB;AACfmB,UAAAA,QAAQ,CAACG,IAAT,CAAcD,CAAd;AACD;AACF;AAN8B;AAAA;AAAA;AAAA;AAAA;;AAO/B,WAAOF,QAAP;AACD;;AACD,WAASI,iBAAT,CAA2BC,KAA3B,EAAgE;AAAA,QACvDC,KADuD,GAC9CD,KAAK,CAACE,MADwC,CACvDD,KADuD;AAE9Db,IAAAA,cAAc,CAACa,KAAD,CAAd;AACD;;AACD,WAASE,iBAAT,CAA2BH,KAA3B,EAAgE;AAAA,QACvDC,KADuD,GAC9CD,KAAK,CAACE,MADwC,CACvDD,KADuD;AAE9DjB,IAAAA,cAAc,CAACiB,KAAD,CAAd;AACD;;AAED,WAASG,gBAAT,CAA0BJ,KAA1B,EAA+D;AAAA,QACtDC,KADsD,GAC7CD,KAAK,CAACE,MADuC,CACtDD,KADsD;AAE7DX,IAAAA,aAAa,CAACW,KAAD,CAAb;AACD;;AACD,WAASI,gBAAT,CAA0BL,KAA1B,EAA+D;AAAA,QACtDC,KADsD,GAC7CD,KAAK,CAACE,MADuC,CACtDD,KADsD;AAE7Df,IAAAA,aAAa,CAACe,KAAD,CAAb;AACD;;AACD,WAASK,gBAAT,CAA0BN,KAA1B,EAA2C;AACzCA,IAAAA,KAAK,CAACO,cAAN;AACAlC,IAAAA,MAAM,CAACmC,IAAP,CAAY,eAAZ,EAA6B;AAC3BC,MAAAA,IAAI,EAAEtB,WADqB;AAE3BuB,MAAAA,IAAI,EAAE3B,WAFqB;AAG3BP,MAAAA,IAAI,EAAJA;AAH2B,KAA7B;AAKAmC,IAAAA,KAAK,CAAC,+BAAD,CAAL;AACD;;AACD,WAASC,eAAT,CAAyBZ,KAAzB,EAA0C;AACxCA,IAAAA,KAAK,CAACO,cAAN;AACAlC,IAAAA,MAAM,CAACmC,IAAP,CAAY,cAAZ,EAA4B;AAC1BC,MAAAA,IAAI,EAAEpB,UADoB;AAE1BqB,MAAAA,IAAI,EAAEzB;AAFoB,KAA5B;AAIA0B,IAAAA,KAAK,CAAC,+BAAD,CAAL;AACD;;AAED,MAAGpC,SAAH,EAAa;AACX,wBACE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADA,eAEH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACII,WAAW,CAACkC,GAAZ,CAAgB,UAAAC,GAAG;AAAA,0BAClB;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,GAAG,CAACL,IAAT,eACA;AAAG,QAAA,MAAM,EAAC,QAAV;AAAmB,QAAA,GAAG,EAAC,qBAAvB;AAA6C,QAAA,IAAI,EAAEK,GAAG,CAACJ,IAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA6D,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA7D,CADA,CADF,CADkB;AAAA,KAAnB,CADJ,CAFG,CADF,eAaE;AAAK,MAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG7B,UAAU,CAACgC,GAAX,CAAe,UAAAC,GAAG;AAAA,0BACjB;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,GAAG,CAACL,IAAT,eACA;AAAG,QAAA,MAAM,EAAC,QAAV;AAAmB,QAAA,GAAG,EAAC,qBAAvB;AAA6C,QAAA,IAAI,EAAEK,GAAG,CAACJ,IAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA6D,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA7D,CADA,CADF,CADiB;AAAA,KAAlB,CADH,CAFA,CAbF,eAyBM;AAAK,MAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAM,MAAA,QAAQ,EAAEE,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,QAAQ,EAAER,gBAAjB;AAAmC,MAAA,IAAI,EAAC,MAAxC;AAA+C,MAAA,WAAW,EAAC,mBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAO,MAAA,QAAQ,EAAEC,gBAAjB;AAAmC,MAAA,IAAI,EAAC,MAAxC;AAA+C,MAAA,WAAW,EAAC,uBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,CADA,CAzBN,CADF;AAoCD;;AAED,sBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFJ,eAGI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1B,WAAW,CAACkC,GAAZ,CAAgB,UAAAC,GAAG;AAAA,wBAClB;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,GAAG,CAACL,IAAT,eACE;AAAG,MAAA,MAAM,EAAC,QAAV;AAAmB,MAAA,GAAG,EAAC,qBAAvB;AAA6C,MAAA,IAAI,EAAEK,GAAG,CAACJ,IAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA6D,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA7D,CADF,CADF,CADkB;AAAA,GAAnB,CADH,CADF,CAHJ,eAeI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAfJ,eAgBI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7B,UAAU,CAACgC,GAAX,CAAe,UAAAC,GAAG;AAAA,wBACjB;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,GAAG,CAACL,IAAT,eACE;AAAG,MAAA,MAAM,EAAC,QAAV;AAAmB,MAAA,GAAG,EAAC,qBAAvB;AAA6C,MAAA,IAAI,EAAEK,GAAG,CAACJ,IAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA6D,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA7D,CADF,CADF,CADiB;AAAA,GAAlB,CADH,CADF,CAhBJ,eA2BE;AAAK,IAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEJ,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,QAAQ,EAAEP,iBAAjB;AAAoC,IAAA,IAAI,EAAC,MAAzC;AAAgD,IAAA,WAAW,EAAC,mBAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAO,IAAA,QAAQ,EAAEI,iBAAjB;AAAoC,IAAA,IAAI,EAAC,MAAzC;AAAgD,IAAA,WAAW,EAAC,uBAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,CADF,CA3BF,CADF;AAsCD,CA3ID;;AA6IA,eAAe7B,IAAf","sourcesContent":["import React, {useState, useEffect, FormEvent, ChangeEvent} from 'react';\r\nimport Styles from './styles'\r\nimport {AiFillFileText} from \"react-icons/ai\";\r\nimport io from 'socket.io-client'\r\nconst socket = io('http://localhost:3001')\r\ninterface Props{\r\n  moderator?: boolean\r\n}\r\ninterface Doc{\r\n  name: string,\r\n  link: string,\r\n  user?: string\r\n}\r\n\r\n\r\nconst Docs: React.FC<Props> = ({moderator}) => {\r\n  const user = localStorage.getItem('representation') || \"Brasil\"\r\n\r\n  const [privateDocs, setPrivateDocs] = useState<Doc[]>([])\r\n  const [publicDocs, setPublicDocs] = useState<Doc[]>([])\r\n  const [privateLink, setPrivateLink] = useState<String>()\r\n  const [publicLink, setPublicLink] = useState<String>()\r\n  const [privateName, setPrivateName] = useState<String>()\r\n  const [publicName, setPublicName] = useState<String>()\r\n  socket.on(\"setPublicDocs\", (docs : Doc[])=>{\r\n    console.log(docs)\r\n    setPublicDocs(docs)\r\n  })\r\n \r\n  socket.on(\"setPrivateDocs\", (docs : Doc[])=>{\r\n    const userDocs = filterDocs(docs)\r\n    setPrivateDocs(userDocs)\r\n  })\r\n  function filterDocs(docs : Doc[]){\r\n    let userDocs = []\r\n    for(let i of docs){\r\n      if(i.user===user){\r\n        userDocs.push(i)\r\n      }\r\n    }\r\n    return userDocs\r\n  }\r\n  function handlePrivateName(event: ChangeEvent<HTMLInputElement>){\r\n    const {value} = event.target\r\n    setPrivateName(value)\r\n  }\r\n  function handlePrivateLink(event: ChangeEvent<HTMLInputElement>){\r\n    const {value} = event.target\r\n    setPrivateLink(value)\r\n  }\r\n\r\n  function handlePublicName(event: ChangeEvent<HTMLInputElement>){\r\n    const {value} = event.target\r\n    setPublicName(value)\r\n  }\r\n  function handlePublicLink(event: ChangeEvent<HTMLInputElement>){\r\n    const {value} = event.target\r\n    setPublicLink(value)\r\n  }\r\n  function handlePrivateDoc(event: FormEvent){\r\n    event.preventDefault()\r\n    socket.emit('newPrivateDoc', {\r\n      name: privateName,\r\n      link: privateLink,\r\n      user\r\n    })\r\n    alert(\"Documento enviado com sucesso\")\r\n  }\r\n  function handlePublicDoc(event: FormEvent){\r\n    event.preventDefault()\r\n    socket.emit('newPublicDoc', {\r\n      name: publicName,\r\n      link: publicLink,\r\n    })\r\n    alert(\"Documento enviado com sucesso\")\r\n  }\r\n\r\n  if(moderator){\r\n    return (\r\n      <Styles className=\"components\">\r\n        <div id=\"privateDocs\">\r\n        <h3>Documentos privados</h3>\r\n     <ul>\r\n        {privateDocs.map(doc=>(\r\n          <div className=\"doc\">\r\n            <li>{doc.name}\r\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href={doc.link}><AiFillFileText/></a>\r\n            </li>\r\n          </div>\r\n        ))}\r\n      </ul>\r\n        </div>\r\n        <div id=\"publicDocs\">\r\n        <h3>Documentos públicos</h3>\r\n        <ul>\r\n          {publicDocs.map(doc=>(\r\n            <div className=\"doc\">\r\n              <li>{doc.name}\r\n              <a target=\"_blank\" rel=\"noopener noreferrer\" href={doc.link}><AiFillFileText/></a>\r\n              </li>\r\n            </div>\r\n          ))}\r\n        </ul>\r\n        </div>\r\n            <div id=\"createDoc\">\r\n            <form onSubmit={handlePublicDoc}>\r\n              <input onChange={handlePublicName} type=\"text\" placeholder=\"Nome do documento\"/>\r\n              <input onChange={handlePublicLink} type=\"text\" placeholder=\"Link para o documento\"/>\r\n              <button type=\"submit\">Enviar</button>\r\n            </form>\r\n            </div>\r\n        \r\n      </Styles>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Styles className=\"components\">\r\n     \r\n        <div className=\"titlePrivateDocs\">Documentos privados</div>\r\n        <div className=\"privates\">\r\n          <ul>\r\n            {privateDocs.map(doc=>(\r\n              <div className=\"doc\">\r\n                <li>{doc.name}\r\n                  <a target=\"_blank\" rel=\"noopener noreferrer\" href={doc.link}><AiFillFileText/></a>\r\n                </li>\r\n              </div>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n\r\n        <div className=\"titlePublicDocs\">Documentos públicos</div>\r\n        <div className=\"public\">\r\n          <ul>\r\n            {publicDocs.map(doc=>(\r\n              <div className=\"doc\">\r\n                <li>{doc.name}\r\n                  <a target=\"_blank\" rel=\"noopener noreferrer\" href={doc.link}><AiFillFileText/></a>\r\n                </li>\r\n              </div>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      <div id=\"createDoc\">\r\n        <form onSubmit={handlePrivateDoc}>\r\n          <input onChange={handlePrivateName} type=\"text\" placeholder=\"Nome do documento\"/>\r\n          <input onChange={handlePrivateLink} type=\"text\" placeholder=\"Link para o documento\"/>\r\n          <button type=\"submit\">Enviar</button>\r\n        </form>\r\n      </div>\r\n      \r\n    </Styles>\r\n  )\r\n}\r\n\r\nexport default Docs;"]},"metadata":{},"sourceType":"module"}